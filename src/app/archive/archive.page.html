<ion-header>
  <ion-toolbar>
    <ion-title id="title">{{ 'ARCHIVE.TRACKS' | translate  }}</ion-title>
    <ion-buttons slot="end">
      <ion-button class="header-button" shape="round" fill="solid" (click)="openMenu()">
        <ion-icon slot="icon-only" name="menu"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="custom-content">
  <div class="ion-content-scroll-host">
    <ion-list>
      <ion-item *ngFor="let item of collection">

        <ion-checkbox justify="space-between" [(ngModel)]="item.isChecked" (ionChange)="onChange()">
          <div [ngClass]="(item.isChecked) ? 'checked' : 'unchecked'">
            {{item.name}}<br>
            {{item.date | date: 'dd-MM-yyyy HH:mm' }}<br>
            {{item.place}}
          </div>
        </ion-checkbox>
      </ion-item>
    </ion-list>
  </div>
    <div class='empty'></div>

  <ion-menu side="start" contentId="main-content">
    <ion-content>
      <ion-list>
        <ion-item class="menu-button" button [disabled]='(!presentSearch)' (click)="removeSearch()">{{'ARCHIVE.REMOVE_SEARCH' | translate}}</ion-item>
        <ion-item class="menu-button" button [disabled]='(numChecked != 1)' (click)="exportTrack()">{{'ARCHIVE.EXPORT_TRACK' | translate}}</ion-item>
        <ion-item class="menu-button" button [disabled]="(layerVisibility == 'multi')" (click)="displayAllTracks(true)">{{'ARCHIVE.DISPLAY_ALL' | translate}}</ion-item>
        <ion-item class="menu-button" button [disabled]="(layerVisibility != 'multi')" (click)="displayAllTracks(false)">{{'ARCHIVE.HIDE_ALL' | translate}}</ion-item>
        <ion-item class="menu-button" button [disabled]='(numChecked == 0)' (click)="deleteTracks()">{{'ARCHIVE.REMOVE_TRACKS' | translate}}</ion-item>
        <ion-item class="menu-button" button [disabled]='(numChecked != 1)' (click)="editTrack()">{{'ARCHIVE.EDIT_TRACK' | translate}}</ion-item>
        <ion-item class="menu-button" button [disabled]='(numChecked != 1)' (click)="displayTrack(true)">{{'ARCHIVE.SHOW_REFERENCE' | translate}}</ion-item>
        <ion-item class="menu-button" button [disabled]="(numChecked == 1 || layerVisibility != 'archived' || !archivedPresent)" (click)="displayTrack(false)">{{'ARCHIVE.HIDE_REFERENCE' | translate}}</ion-item>

      </ion-list>
    </ion-content>
  </ion-menu>
  <ion-content id="main-content"></ion-content>
</ion-content>

<!-- space for android controls -->
<div class="bottom-safe-gray"></div>

  <!-- Navigation buttons -->
  <ion-fab
    slot="fixed"
    horizontal="center"
    vertical="bottom"
    class="bottom-safe"
  >
    <ion-row>
      <ion-fab-button (click)="fs.gotoPage('tab1')">
        <ion-icon name="earth"></ion-icon>
      </ion-fab-button>
      <ion-fab-button (click)="fs.gotoPage('canvas')">
        <ion-icon name="analytics"></ion-icon>
      </ion-fab-button>
      <ion-fab-button (click)="fs.gotoPage('settings')">
        <ion-icon name="settings"></ion-icon>
      </ion-fab-button>
    </ion-row>
  </ion-fab>

