<!--
<head><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /></head>
-->
<ion-content>

  <!-- buttons to select start / stop recording or save track -->

  <ion-fab slot="fixed" horizontal="center" vertical="top">
    <ion-row>
      <ion-fab-button id='start' (click)="buttonClick('play')">
        <ion-icon name="play"></ion-icon>
      </ion-fab-button>  
      <ion-fab-button id='stop' (click)="buttonClick('stop')">
        <ion-icon name="stop"></ion-icon>
      </ion-fab-button>  
      <ion-fab-button id='save' (click)="buttonClick('save')">
        <ion-icon name="save"></ion-icon>
      </ion-fab-button>  
      <ion-fab-button id='trash' (click)="buttonClick('trash')">
        <ion-icon name="trash-outline"></ion-icon>
      </ion-fab-button>  
      <ion-fab-button id='databutton' (click)="buttonClick('data')">
        <ion-icon name="analytics-outline"></ion-icon>
      </ion-fab-button>  
      <ion-fab-button id='mapbutton' (click)="buttonClick('map')">
        <ion-icon name="map-outline"></ion-icon>
      </ion-fab-button>  
      <ion-fab-button id='list' (click)="buttonClick('list')">
        <ion-icon name="list-outline"></ion-icon>
      </ion-fab-button>  
      <ion-fab-button id='settings' (click)="buttonClick('settings')">
        <ion-icon name="settings-outline"></ion-icon>
      </ion-fab-button>  
    </ion-row>
  </ion-fab>
  
<div id="map"></div>

<swiper-container id="data">
  <swiper-slide>
    <div class = empty></div>  
    <div class = element>
      <div class="card" *ngIf="currentTrack">
        CURRENT ROUTE<br>
        Distance: {{currentTrack.features[0].properties.totalDistance | number:'1.3' }} km<br>
        Elevation gain: {{currentTrack.features[0].properties.totalElevationGain | number:'1.0-0' }} m<br>
        Elevation loss: {{currentTrack.features[0].properties.totalElevationLoss | number:'1.0-0' }} m<br>
        Time: {{ currentTrack.features[0].properties.totalTime }}<br>
        In-motion time: {{ timeCorr }}<br> 
        {{ currentTrack.features[0].properties.totalNumber}} points recorded<br><br>
        Current elevation: <ng-container *ngIf="currentTrack.features[0].properties.currentAltitude !== undefined">{{ currentTrack.features[0].properties.currentAltitude | number:'1.0-0' }} m</ng-container><br>
        Current speed: <ng-container *ngIf="currentTrack.features[0].properties.currentSpeed !== undefined">{{ currentTrack.features[0].properties.currentSpeed | number:'1.1-1' }} km/h</ng-container><br>
        Average speed: <ng-container *ngIf="currentAverageSpeed != undefined">{{currentAverageSpeed | number:'1.1-1'}} km/h</ng-container><br>
        In-motion average speed: <ng-container *ngIf="currentAverageCorrSpeed != undefined">{{currentAverageCorrSpeed | number:'1.1-1'}} km/h</ng-container>
      </div>
    </div>
    <div class = element>
      <div *ngIf="archivedTrack" class="card">
        ARCHIVED ROUTE<br>
        {{archivedTrack.features[0].properties.name}}<br>
        Distance: <ng-container *ngIf="archivedTrack.features[0].properties.totalDistance !== undefined">
          {{archivedTrack.features[0].properties.totalDistance | number:'1.3' }} km</ng-container><br>
        Elevation gain: <ng-container *ngIf="archivedTrack.features[0].properties.totalElevationGain !== undefined">
          {{archivedTrack.features[0].properties.totalElevationGain | number:'1.0-0' }} m</ng-container><br>
        Elevation loss: <ng-container *ngIf="archivedTrack.features[0].properties.totalElevationLoss !== undefined">
          {{archivedTrack.features[0].properties.totalElevationLoss | number:'1.0-0' }} m</ng-container><br>
        Time: <ng-container *ngIf="archivedTrack.features[0].properties.totalTime !== undefined">
          {{ archivedTrack.features[0].properties.totalTime }}</ng-container><br>
        {{ archivedTrack.features[0].properties.totalNumber}} points recorded<br>
      </div>  
    </div>  
  </swiper-slide>
  <swiper-slide>
    <div class = empty></div>  
    <div class = element>
      <h1 *ngIf="currentTrack" class = 'title'>ALTITUDE (m) vs distance (km)</h1>
      <canvas class = 'canvas' id="currentCanvas0" width="{{canvasNum}}" height="{{canvasNum}}"></canvas>
    </div>
    <div class = element>
      <h1 *ngIf="archivedTrack" class = 'title'>ALTITUDE (m) vs distance (km)</h1>
      <canvas class = 'canvas' id="archivedCanvas0" width="{{canvasNum}}" height="{{canvasNum}}"></canvas>
    </div>  
  </swiper-slide>  
  <swiper-slide>
    <div class = empty></div>
    <div class = element>  
      <h1 *ngIf="currentTrack" class = 'title'>SPEED (km/h) vs time ({{tUnit}})</h1>
      <canvas class = 'canvas' id="currentCanvas1" width="{{canvasNum}}" height="{{canvasNum}}"></canvas>
    </div>
    <div class = element>  
      <h1 *ngIf="archivedTrack" class = 'title'>SPEED (km/h) vs time ({{tUnit}})</h1>
      <canvas class = 'canvas' id="archivedCanvas1" width="{{canvasNum}}" height="{{canvasNum}}"></canvas>
    </div>
  </swiper-slide> 
</swiper-container>    
        
</ion-content>

